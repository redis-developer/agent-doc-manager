<div id="d{{id}}">
  <div class="mb-2 p-4 w-full bg-gray-700 opacity-[90%] shadow-short border border-gray-600 rounded">
    <div class="flex justify-between items-center">
        {{#if editing}}
        <div class="flex flex-col items-start space-y-1">
            <div class="uppercase text-xs text-gray-400">Editing</div>
            <progress class="w-12"></progress>
        </div>
        {{/if}}
        <div class="text-gray-100 break-all">{{url}}</div>
        <div class="space-x-2 flex flex-row">
          {{#if selected}}
            <form ws-send hx-disabled-elt="this" class="inline">
                <input type="hidden" name="cmd" value="projects/close" />
                <input type="hidden" name="documentId" value="{{id}}" />
                <input type="hidden" name="editing" value="{{editing}}" />
                <button type="submit" class="px-4 py-2 bg-gray-600 text-gray-100 rounded hover:bg-gray-500">&times;</button>
            </form>
          {{else}}
            <form ws-send hx-disabled-elt="this" class="inline">
                <input type="hidden" name="cmd" value="projects/open" />
                <input type="hidden" name="documentId" value="{{id}}" />
                <input type="hidden" name="editing" value="{{editing}}" />
                <button type="submit" class="px-4 py-2 bg-gray-600 text-gray-100 rounded hover:bg-gray-500">✎</button>
            </form>
          {{/if}}
            <a href="/documents/{{id}}.md" target="_blank" type="submit" class="px-4 py-2 bg-gray-600 text-gray-100 rounded hover:bg-gray-500">↓</a>
        </div>
    </div>
  </div>
  {{#if selected}}
  <div class="flex w-full flex-col items-center mb-2 justify-center overflow-clip bg-gray-700 opacity-[90%] shadow-short border border-gray-600 rounded">
    <form
      ws-send
      class="w-full items-center space-x-2"
      hx-disabled-elt="this"
      >
      <input type="hidden" name="cmd" value="documents/diff" />
      <input type="hidden" name="documentId" value="{{id}}" />
      <div class="relative flex w-full items-end px-2.5 py-4">
        <div class="relative flex w-full flex-auto flex-col">
            <button type="submit" aria-label="Send prompt" class="self-end flex items-center justify-center rounded-full transition-colors hover:opacity-70 disabled:text-gray-500 disabled:hover:opacity-100 bg-blue-600 text-white disabled:bg-gray-600 hover:bg-blue-700 h-9 w-9">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon"><path d="M8.99992 16V6.41407L5.70696 9.70704C5.31643 10.0976 4.68342 10.0976 4.29289 9.70704C3.90237 9.31652 3.90237 8.6835 4.29289 8.29298L9.29289 3.29298L9.36907 3.22462C9.76184 2.90427 10.3408 2.92686 10.707 3.29298L15.707 8.29298L15.7753 8.36915C16.0957 8.76192 16.0731 9.34092 15.707 9.70704C15.3408 10.0732 14.7618 10.0958 14.3691 9.7754L14.2929 9.70704L10.9999 6.41407V16C10.9999 16.5523 10.5522 17 9.99992 17C9.44764 17 8.99992 16.5523 8.99992 16Z"></path></svg>
            </button>
          <code>
            <textarea
                id="content-{{id}}"
                name="content"
                rows="20"
                required
                minlength="1"
                class="outline-none py-2 text-sm w-full mt-2 bg-gray-800 text-gray-100 border border-gray-600 rounded"
            >{{content}}</textarea>
          </code>
        </div>
      </div>
    </form>
  </div>
  {{/if}}
</div>
